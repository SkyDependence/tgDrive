import{_ as e}from"./_plugin-vue_export-helper-Bm9C0Znx.js";/* empty css                         *//* empty css                   */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                        *//* empty css                     */import{d as a,j as l,r as t,f as s,y as d,G as o,H as u,au as n,av as i,ac as c,o as r,P as f,a as m,u as v,I as _,J as p,R as g,L as h,M as w,T as x}from"./vue-vendor-B9yd_xiB.js";import{ab as k,am as b,an as j,ae as S,ac as L,ad as y,af as I,ao as E,ap as z,aq as C,ar as V,O as M,as as A,a7 as P,f as T,ag as W,ah as D,ai as G,aj as q,ak as H,at as J,au as O,av as R,aw as U,al as B}from"./element-plus-DF_olGcQ.js";const F={class:"header-logo"},K={class:"logo-container"},N={class:"logo-text hidden-xs-only"},Q={class:"header-actions"},X={class:"el-dropdown-link"},Y=e(a({__name:"AdminLayout",setup(e){const a=n(),Y=i(),Z=l(()=>Y.path),$=t(!1),ee=t("auto"),ae=t(!1),le=t(!1),te=l(()=>"light"===ee.value?L:"dark"===ee.value?y:S),se=()=>{if("auto"===ee.value){const e=window.matchMedia("(prefers-color-scheme: dark)");document.documentElement.classList.toggle("dark",e.matches)}else document.documentElement.classList.toggle("dark","dark"===ee.value)},de=e=>{ee.value=e,localStorage.setItem("theme",e),se()},oe=e=>{"auto"===ee.value&&document.documentElement.classList.toggle("dark",e.matches)},ue=()=>{if(ae.value=window.innerWidth<768,ae.value)$.value=!0;else{const e=localStorage.getItem("sidebarState");$.value="collapsed"===e}};s(()=>{if(ue(),window.addEventListener("resize",ue),!ae.value){const e=localStorage.getItem("sidebarState");$.value="collapsed"===e}const e=localStorage.getItem("theme");ee.value=e||"auto",se(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",oe)}),d(()=>{window.removeEventListener("resize",ue),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",oe)});const ne=()=>{$.value=!$.value,localStorage.setItem("sidebarState",$.value?"collapsed":"expanded")},ie=e=>{"logout"===e&&(localStorage.removeItem("token"),a.push("/login"))},ce=e=>{a.push(e)},re=e=>{ce(e),le.value=!1};return(e,a)=>{const l=T,t=W,s=D,d=G,n=q,i=H,Y=J,ee=O,se=R,oe=U,ue=c("router-view"),fe=B,me=k;return r(),o(me,{class:"app-container"},{default:u(()=>[f(i,{class:"header"},{default:u(()=>[m("div",F,[m("div",K,[f(l,{class:"toggle-sidebar hidden-xs-only",onClick:ne},{default:u(()=>[$.value?(r(),o(v(b),{key:0})):(r(),o(v(j),{key:1}))]),_:1}),f(l,{class:"logo-icon"},{default:u(()=>[f(v(S))]),_:1}),_(m("span",N,"ST-TG网盘管理",512),[[p,!$.value]])])]),m("div",Q,[f(l,{class:"toggle-mobile-sidebar hidden-sm-and-up",onClick:a[0]||(a[0]=e=>le.value=!0)},{default:u(()=>[f(v(j))]),_:1}),f(d,{onCommand:de,trigger:"click"},{dropdown:u(()=>[f(s,null,{default:u(()=>[f(t,{command:"light",icon:v(L)},{default:u(()=>a[2]||(a[2]=[g("亮色模式")])),_:1},8,["icon"]),f(t,{command:"dark",icon:v(y)},{default:u(()=>a[3]||(a[3]=[g("暗色模式")])),_:1},8,["icon"]),f(t,{command:"auto",icon:v(S)},{default:u(()=>a[4]||(a[4]=[g("跟随系统")])),_:1},8,["icon"])]),_:1})]),default:u(()=>[m("span",X,[f(l,{size:20},{default:u(()=>[(r(),o(h(te.value)))]),_:1})])]),_:1}),f(d,{onCommand:ie},{dropdown:u(()=>[f(s,null,{default:u(()=>[f(t,{command:"logout",icon:v(I)},{default:u(()=>a[5]||(a[5]=[g("退出登录")])),_:1},8,["icon"])]),_:1})]),default:u(()=>[f(n,{class:"user-avatar",size:32,src:"/favicon.ico"})]),_:1})])]),_:1}),f(me,{class:"main-container"},{default:u(()=>[ae.value?w("",!0):(r(),o(se,{key:0,width:$.value?"64px":"220px",class:"sidebar"},{default:u(()=>[f(ee,{"default-active":Z.value,class:"sidebar-menu",onSelect:ce,collapse:$.value,"collapse-transition":!1},{default:u(()=>[f(Y,{index:"/home"},{title:u(()=>a[6]||(a[6]=[g("首页")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(E))]),_:1})]),_:1}),f(Y,{index:"/fileList"},{title:u(()=>a[7]||(a[7]=[g("文件列表")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(z))]),_:1})]),_:1}),f(Y,{index:"/changePassword"},{title:u(()=>a[8]||(a[8]=[g("修改密码")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(C))]),_:1})]),_:1}),f(Y,{index:"/"},{title:u(()=>a[9]||(a[9]=[g("上传文件")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(V))]),_:1})]),_:1}),f(Y,{index:"/backup"},{title:u(()=>a[10]||(a[10]=[g("备份数据库")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(M))]),_:1})]),_:1}),f(Y,{index:"/bot-keep-alive"},{title:u(()=>a[11]||(a[11]=[g("机器人保活")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(A))]),_:1})]),_:1}),f(Y,{index:"/webdav-config"},{title:u(()=>a[12]||(a[12]=[g("WebDAV配置")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(P))]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"])),ae.value?(r(),o(oe,{key:1,modelValue:le.value,"onUpdate:modelValue":a[1]||(a[1]=e=>le.value=e),direction:"ltr","with-header":!1,size:"220px"},{default:u(()=>[f(ee,{"default-active":Z.value,class:"sidebar-menu",onSelect:re,collapse:!1,"collapse-transition":!1},{default:u(()=>[f(Y,{index:"/home"},{title:u(()=>a[13]||(a[13]=[g("首页")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(E))]),_:1})]),_:1}),f(Y,{index:"/fileList"},{title:u(()=>a[14]||(a[14]=[g("文件列表")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(z))]),_:1})]),_:1}),f(Y,{index:"/changePassword"},{title:u(()=>a[15]||(a[15]=[g("修改密码")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(C))]),_:1})]),_:1}),f(Y,{index:"/"},{title:u(()=>a[16]||(a[16]=[g("上传文件")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(V))]),_:1})]),_:1}),f(Y,{index:"/backup"},{title:u(()=>a[17]||(a[17]=[g("备份数据库")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(M))]),_:1})]),_:1}),f(Y,{index:"/bot-keep-alive"},{title:u(()=>a[18]||(a[18]=[g("机器人保活")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(A))]),_:1})]),_:1}),f(Y,{index:"/webdav-config"},{title:u(()=>a[19]||(a[19]=[g("WebDAV配置")])),default:u(()=>[f(l,null,{default:u(()=>[f(v(P))]),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1},8,["modelValue"])):w("",!0),f(fe,{class:"main-content"},{default:u(()=>[f(ue,null,{default:u(({Component:e})=>[f(x,{name:"fade",mode:"out-in"},{default:u(()=>[(r(),o(h(e)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-1d69cefc"]]);export{Y as default};

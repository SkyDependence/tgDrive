import{_ as e}from"./_plugin-vue_export-helper-DvehuVrX.js";/* empty css                         *//* empty css                   */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                        *//* empty css                     */import{d as a,b as t,aw as l,r as d,l as s,U as o,D as n,E as u,o as i,M as c,a as r,F as m,u as f,O as _,I as v,J as p,H as g,ab as h,T as b,av as w}from"./vue-vendor-Cc5FuWtX.js";import{ae as x,af as k,ag as y,ah as L,f as S,as as j,at as E,ai as I,aj as z,ak as C,an as T,ao as M,ap as V,au as A,av as D,aw as W,ax as q,am as F,_ as P,ay as U,az as B,M as G,aA as H,a8 as J,z as O,aB as K,aq as N}from"./element-plus-D6es4l3D.js";const Q={class:"header-logo"},R={class:"logo-container"},X={class:"logo-text hidden-xs-only"},Y={class:"header-actions"},Z={class:"el-dropdown-link"},$=e(a({__name:"AdminLayout",setup(e){const a=w(),$=l(),ee=t(()=>$.path),ae=d(!1),te=d("auto"),le=d(!1),de=d(!1),se=t(()=>"light"===te.value?x:"dark"===te.value?k:y),oe=()=>{document.body.classList.add("theme-switching"),setTimeout(()=>{if("auto"===te.value){const e=window.matchMedia("(prefers-color-scheme: dark)");document.documentElement.classList.toggle("dark",e.matches)}else document.documentElement.classList.toggle("dark","dark"===te.value)},80),setTimeout(()=>{document.body.classList.remove("theme-switching")},600)},ne=e=>{te.value=e,localStorage.setItem("theme",e),"vibrate"in navigator&&navigator.vibrate(50),oe()},ue=e=>{"auto"===te.value&&(document.body.classList.add("theme-switching"),setTimeout(()=>{document.documentElement.classList.toggle("dark",e.matches)},80),setTimeout(()=>{document.body.classList.remove("theme-switching")},600))},ie=()=>{if(le.value=window.innerWidth<768,le.value)ae.value=!0;else{const e=localStorage.getItem("sidebarState");ae.value="collapsed"===e}};s(()=>{if(ie(),window.addEventListener("resize",ie),!le.value){const e=localStorage.getItem("sidebarState");ae.value="collapsed"===e}const e=localStorage.getItem("theme");te.value=e||"auto",oe(),(()=>{const e=document.body;e.style.backgroundImage="",e.style.backgroundColor="#ffffff";const a=document.querySelector(".background-overlay");a&&a.remove()})(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ue)}),o(()=>{window.removeEventListener("resize",ie),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",ue)});const ce=()=>{ae.value=!ae.value,localStorage.setItem("sidebarState",ae.value?"collapsed":"expanded")},re=e=>{"logout"===e&&(localStorage.removeItem("token"),a.push("/login"))},me=e=>{a.push(e)},fe=e=>{me(e),de.value=!1};return(e,a)=>{const t=S,l=C,d=z,s=I,o=T,w=V,$=W,te=D,oe=A,ue=K,ie=h("router-view"),_e=N,ve=L;return i(),n(ve,{class:"app-container"},{default:u(()=>[c(w,{class:"header"},{default:u(()=>[r("div",Q,[r("div",R,[c(t,{class:"toggle-sidebar hidden-xs-only",onClick:ce},{default:u(()=>[ae.value?(i(),n(f(j),{key:0})):(i(),n(f(E),{key:1}))]),_:1}),c(t,{class:"logo-icon"},{default:u(()=>[c(f(y))]),_:1}),m(r("span",X,"ST-TG网盘管理",512),[[_,!ae.value]])])]),r("div",Y,[c(t,{class:"toggle-mobile-sidebar hidden-sm-and-up",onClick:a[0]||(a[0]=e=>de.value=!0)},{default:u(()=>[c(f(E))]),_:1}),c(s,{onCommand:ne,trigger:"click"},{dropdown:u(()=>[c(d,null,{default:u(()=>[c(l,{command:"light",icon:f(x)},{default:u(()=>a[2]||(a[2]=[p("亮色模式",-1)])),_:1,__:[2]},8,["icon"]),c(l,{command:"dark",icon:f(k)},{default:u(()=>a[3]||(a[3]=[p("暗色模式",-1)])),_:1,__:[3]},8,["icon"]),c(l,{command:"auto",icon:f(y)},{default:u(()=>a[4]||(a[4]=[p("跟随系统",-1)])),_:1,__:[4]},8,["icon"])]),_:1})]),default:u(()=>[r("span",Z,[c(t,{size:20},{default:u(()=>[(i(),n(v(se.value)))]),_:1})])]),_:1}),c(s,{onCommand:re},{dropdown:u(()=>[c(d,null,{default:u(()=>[c(l,{command:"logout",icon:f(M)},{default:u(()=>a[5]||(a[5]=[p("退出登录",-1)])),_:1,__:[5]},8,["icon"])]),_:1})]),default:u(()=>[c(o,{class:"user-avatar",size:32,src:"/favicon.ico"})]),_:1})])]),_:1}),c(ve,{class:"main-container"},{default:u(()=>[le.value?g("",!0):(i(),n(oe,{key:0,width:ae.value?"64px":"220px",class:"sidebar"},{default:u(()=>[c(te,{"default-active":ee.value,class:"sidebar-menu",onSelect:me,collapse:ae.value,"collapse-transition":!1},{default:u(()=>[c($,{index:"/home"},{title:u(()=>a[6]||(a[6]=[p("首页",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(q))]),_:1})]),_:1}),c($,{index:"/fileList"},{title:u(()=>a[7]||(a[7]=[p("文件列表",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(F))]),_:1})]),_:1}),c($,{index:"/user-management"},{title:u(()=>a[8]||(a[8]=[p("用户管理",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(P))]),_:1})]),_:1}),c($,{index:"/changePassword"},{title:u(()=>a[9]||(a[9]=[p("修改密码",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(U))]),_:1})]),_:1}),c($,{index:"/"},{title:u(()=>a[10]||(a[10]=[p("上传文件",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(B))]),_:1})]),_:1}),c($,{index:"/backup"},{title:u(()=>a[11]||(a[11]=[p("备份数据库",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(G))]),_:1})]),_:1}),c($,{index:"/bot-keep-alive"},{title:u(()=>a[12]||(a[12]=[p("机器人保活",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(H))]),_:1})]),_:1}),c($,{index:"/webdav-config"},{title:u(()=>a[13]||(a[13]=[p("WebDAV配置",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(J))]),_:1})]),_:1}),c($,{index:"/agreement"},{title:u(()=>a[14]||(a[14]=[p("用户协议",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(O))]),_:1})]),_:1}),c($,{index:"/privacy"},{title:u(()=>a[15]||(a[15]=[p("隐私政策",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(O))]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"])),le.value?(i(),n(ue,{key:1,modelValue:de.value,"onUpdate:modelValue":a[1]||(a[1]=e=>de.value=e),direction:"ltr","with-header":!1,size:"220px"},{default:u(()=>[c(te,{"default-active":ee.value,class:"sidebar-menu",onSelect:fe,collapse:!1,"collapse-transition":!1},{default:u(()=>[c($,{index:"/home"},{title:u(()=>a[16]||(a[16]=[p("首页",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(q))]),_:1})]),_:1}),c($,{index:"/fileList"},{title:u(()=>a[17]||(a[17]=[p("文件列表",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(F))]),_:1})]),_:1}),c($,{index:"/user-management"},{title:u(()=>a[18]||(a[18]=[p("用户管理",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(P))]),_:1})]),_:1}),c($,{index:"/changePassword"},{title:u(()=>a[19]||(a[19]=[p("修改密码",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(U))]),_:1})]),_:1}),c($,{index:"/"},{title:u(()=>a[20]||(a[20]=[p("上传文件",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(B))]),_:1})]),_:1}),c($,{index:"/backup"},{title:u(()=>a[21]||(a[21]=[p("备份数据库",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(G))]),_:1})]),_:1}),c($,{index:"/bot-keep-alive"},{title:u(()=>a[22]||(a[22]=[p("机器人保活",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(H))]),_:1})]),_:1}),c($,{index:"/webdav-config"},{title:u(()=>a[23]||(a[23]=[p("WebDAV配置",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(J))]),_:1})]),_:1}),c($,{index:"/agreement"},{title:u(()=>a[24]||(a[24]=[p("用户协议",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(O))]),_:1})]),_:1}),c($,{index:"/privacy"},{title:u(()=>a[25]||(a[25]=[p("隐私政策",-1)])),default:u(()=>[c(t,null,{default:u(()=>[c(f(O))]),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1},8,["modelValue"])):g("",!0),c(_e,{class:"main-content"},{default:u(()=>[c(ie,null,{default:u(({Component:e})=>[c(b,{name:"fade",mode:"out-in"},{default:u(()=>[(i(),n(v(e)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-cea617f7"]]);export{$ as default};

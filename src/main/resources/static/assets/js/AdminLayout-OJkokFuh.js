import{_ as e}from"./_plugin-vue_export-helper-DvehuVrX.js";/* empty css                         *//* empty css                   */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                        *//* empty css                     */import{t as a,c as l,aw as t,r as s,f as d,U as o,D as n,E as u,M as i,A as c,F as r,u as m,O as f,I as _,J as v,H as p,ab as g,T as h,av as w,x}from"./vue-vendor-BNZdp1ez.js";import{ae as b,af as k,ag as y,ah as L,h as S,as as j,at as E,ai as I,aj as z,ak as T,an as A,ao as C,ap as M,au as V,av as D,aw as W,ax as P,am as U,_ as q,ay as B,az as F,M as G,aA as H,a8 as J,z as O,aB as K,aq as N}from"./element-plus-CgPdM7LF.js";const Q={class:"header-logo"},R={class:"logo-container"},X={class:"logo-text hidden-xs-only"},Y={class:"header-actions"},Z={class:"el-dropdown-link"},$=e(a({__name:"AdminLayout",setup(e){const a=w(),$=t(),ee=l(()=>$.path),ae=s(!1),le=s("auto"),te=s(!1),se=s(!1),de=l(()=>"light"===le.value?b:"dark"===le.value?k:y),oe=()=>{document.body.classList.add("theme-switching"),setTimeout(()=>{if("auto"===le.value){const e=window.matchMedia("(prefers-color-scheme: dark)");document.documentElement.classList.toggle("dark",e.matches)}else document.documentElement.classList.toggle("dark","dark"===le.value)},80),setTimeout(()=>{document.body.classList.remove("theme-switching")},600)},ne=e=>{le.value=e,localStorage.setItem("theme",e),"vibrate"in navigator&&navigator.vibrate(50),oe()},ue=e=>{"auto"===le.value&&(document.body.classList.add("theme-switching"),setTimeout(()=>{document.documentElement.classList.toggle("dark",e.matches)},80),setTimeout(()=>{document.body.classList.remove("theme-switching")},600))},ie=()=>{if(te.value=window.innerWidth<768,te.value)ae.value=!0;else{const e=localStorage.getItem("sidebarState");ae.value="collapsed"===e}};d(()=>{if(ie(),window.addEventListener("resize",ie),!te.value){const e=localStorage.getItem("sidebarState");ae.value="collapsed"===e}const e=localStorage.getItem("theme");le.value=e||"auto",oe(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ue)}),o(()=>{window.removeEventListener("resize",ie),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",ue)});const ce=()=>{ae.value=!ae.value,localStorage.setItem("sidebarState",ae.value?"collapsed":"expanded")},re=e=>{"logout"===e&&(localStorage.removeItem("token"),a.push("/login"))},me=e=>{a.push(e)},fe=e=>{me(e),se.value=!1};return(e,a)=>{const l=S,t=T,s=z,d=I,o=A,w=M,$=W,le=D,oe=V,ue=K,ie=g("router-view"),_e=N,ve=L;return x(),n(ve,{class:"app-container"},{default:u(()=>[i(w,{class:"header"},{default:u(()=>[c("div",Q,[c("div",R,[i(l,{class:"toggle-sidebar hidden-xs-only",onClick:ce},{default:u(()=>[ae.value?(x(),n(m(j),{key:0})):(x(),n(m(E),{key:1}))]),_:1}),i(l,{class:"logo-icon"},{default:u(()=>[i(m(y))]),_:1}),r(c("span",X,"ST-TG网盘管理",512),[[f,!ae.value]])])]),c("div",Y,[i(l,{class:"toggle-mobile-sidebar hidden-sm-and-up",onClick:a[0]||(a[0]=e=>se.value=!0)},{default:u(()=>[i(m(E))]),_:1}),i(d,{onCommand:ne,trigger:"click"},{dropdown:u(()=>[i(s,null,{default:u(()=>[i(t,{command:"light",icon:m(b)},{default:u(()=>a[2]||(a[2]=[v("亮色模式",-1)])),_:1,__:[2]},8,["icon"]),i(t,{command:"dark",icon:m(k)},{default:u(()=>a[3]||(a[3]=[v("暗色模式",-1)])),_:1,__:[3]},8,["icon"]),i(t,{command:"auto",icon:m(y)},{default:u(()=>a[4]||(a[4]=[v("跟随系统",-1)])),_:1,__:[4]},8,["icon"])]),_:1})]),default:u(()=>[c("span",Z,[i(l,{size:20},{default:u(()=>[(x(),n(_(de.value)))]),_:1})])]),_:1}),i(d,{onCommand:re},{dropdown:u(()=>[i(s,null,{default:u(()=>[i(t,{command:"logout",icon:m(C)},{default:u(()=>a[5]||(a[5]=[v("退出登录",-1)])),_:1,__:[5]},8,["icon"])]),_:1})]),default:u(()=>[i(o,{class:"user-avatar",size:32,src:"/public/favicon.ico"})]),_:1})])]),_:1}),i(ve,{class:"main-container"},{default:u(()=>[te.value?p("",!0):(x(),n(oe,{key:0,width:ae.value?"64px":"220px",class:"sidebar"},{default:u(()=>[i(le,{"default-active":ee.value,class:"sidebar-menu",onSelect:me,collapse:ae.value,"collapse-transition":!1},{default:u(()=>[i($,{index:"/home"},{title:u(()=>a[6]||(a[6]=[v("首页",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(P))]),_:1})]),_:1}),i($,{index:"/fileList"},{title:u(()=>a[7]||(a[7]=[v("文件列表",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(U))]),_:1})]),_:1}),i($,{index:"/user-management"},{title:u(()=>a[8]||(a[8]=[v("用户管理",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(q))]),_:1})]),_:1}),i($,{index:"/changePassword"},{title:u(()=>a[9]||(a[9]=[v("修改密码",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(B))]),_:1})]),_:1}),i($,{index:"/"},{title:u(()=>a[10]||(a[10]=[v("上传文件",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(F))]),_:1})]),_:1}),i($,{index:"/backup"},{title:u(()=>a[11]||(a[11]=[v("备份数据库",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(G))]),_:1})]),_:1}),i($,{index:"/bot-keep-alive"},{title:u(()=>a[12]||(a[12]=[v("机器人保活",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(H))]),_:1})]),_:1}),i($,{index:"/webdav-config"},{title:u(()=>a[13]||(a[13]=[v("WebDAV配置",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(J))]),_:1})]),_:1}),i($,{index:"/agreement"},{title:u(()=>a[14]||(a[14]=[v("用户协议",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(O))]),_:1})]),_:1}),i($,{index:"/privacy"},{title:u(()=>a[15]||(a[15]=[v("隐私政策",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(O))]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"])),te.value?(x(),n(ue,{key:1,modelValue:se.value,"onUpdate:modelValue":a[1]||(a[1]=e=>se.value=e),direction:"ltr","with-header":!1,size:"220px"},{default:u(()=>[i(le,{"default-active":ee.value,class:"sidebar-menu",onSelect:fe,collapse:!1,"collapse-transition":!1},{default:u(()=>[i($,{index:"/home"},{title:u(()=>a[16]||(a[16]=[v("首页",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(P))]),_:1})]),_:1}),i($,{index:"/fileList"},{title:u(()=>a[17]||(a[17]=[v("文件列表",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(U))]),_:1})]),_:1}),i($,{index:"/user-management"},{title:u(()=>a[18]||(a[18]=[v("用户管理",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(q))]),_:1})]),_:1}),i($,{index:"/changePassword"},{title:u(()=>a[19]||(a[19]=[v("修改密码",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(B))]),_:1})]),_:1}),i($,{index:"/"},{title:u(()=>a[20]||(a[20]=[v("上传文件",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(F))]),_:1})]),_:1}),i($,{index:"/backup"},{title:u(()=>a[21]||(a[21]=[v("备份数据库",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(G))]),_:1})]),_:1}),i($,{index:"/bot-keep-alive"},{title:u(()=>a[22]||(a[22]=[v("机器人保活",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(H))]),_:1})]),_:1}),i($,{index:"/webdav-config"},{title:u(()=>a[23]||(a[23]=[v("WebDAV配置",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(J))]),_:1})]),_:1}),i($,{index:"/agreement"},{title:u(()=>a[24]||(a[24]=[v("用户协议",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(O))]),_:1})]),_:1}),i($,{index:"/privacy"},{title:u(()=>a[25]||(a[25]=[v("隐私政策",-1)])),default:u(()=>[i(l,null,{default:u(()=>[i(m(O))]),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1},8,["modelValue"])):p("",!0),i(_e,{class:"main-content"},{default:u(()=>[i(ie,null,{default:u(({Component:e})=>[i(h,{name:"fade",mode:"out-in"},{default:u(()=>[(x(),n(_(e)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-f7a267d1"]]);export{$ as default};

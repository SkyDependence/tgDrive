import{d as e}from"./index-BpBayuHl.js";import{r as a,b as l}from"./vue-vendor-Cc5FuWtX.js";let o=null;const r=()=>{o?o():(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("email"))},t=e("user",()=>{const e=a(""),r=a(""),t=a(""),m=a(""),u=a(""),s=l(()=>!!e.value),I=l(()=>"admin"===r.value?"管理员":"user"===r.value?"普通用户":"访客"),v=()=>{e.value="",r.value="",t.value="",m.value="",u.value="",localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("email")};return o=v,{token:e,role:r,userId:t,username:m,email:u,isLoggedIn:s,userRoleText:I,initUserInfo:()=>{e.value=localStorage.getItem("token")||"",r.value=localStorage.getItem("role")||"",t.value=localStorage.getItem("userId")||"",m.value=localStorage.getItem("username")||"",u.value=localStorage.getItem("email")||""},setUserInfo:a=>{e.value=a.token,r.value=a.role,t.value=a.userId,m.value=a.username,u.value=a.email,localStorage.setItem("token",a.token),localStorage.setItem("role",a.role),localStorage.setItem("userId",a.userId),localStorage.setItem("username",a.username),localStorage.setItem("email",a.email)},clearUserInfo:v}});export{r as c,t as u};

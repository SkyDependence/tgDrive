import{_ as e}from"./_plugin-vue_export-helper-Bm9C0Znx.js";/* empty css                         *//* empty css                   */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                        *//* empty css                     */import{d as a,j as l,r as t,f as s,y as d,G as o,H as n,av as u,aw as i,ae as c,o as r,P as f,a as m,u as _,I as v,J as p,R as g,L as h,M as w,T as k}from"./vue-vendor-6Mo5xx1f.js";import{a8 as x,aj as b,ak as j,ab as S,a9 as L,aa as y,ac as I,al as E,am as z,an as C,ao as V,J as M,ap as A,a4 as P,d as T,ad as W,ae as D,af as G,ag as J,ah as q,aq as H,ar as R,as as U,at as B,ai as F}from"./element-plus-CR-v5VwI.js";const K={class:"header-logo"},N={class:"logo-container"},O={class:"logo-text hidden-xs-only"},Q={class:"header-actions"},X={class:"el-dropdown-link"},Y=e(a({__name:"AdminLayout",setup(e){const a=u(),Y=i(),Z=l(()=>Y.path),$=t(!1),ee=t("auto"),ae=t(!1),le=t(!1),te=l(()=>"light"===ee.value?L:"dark"===ee.value?y:S),se=()=>{if("auto"===ee.value){const e=window.matchMedia("(prefers-color-scheme: dark)");document.documentElement.classList.toggle("dark",e.matches)}else document.documentElement.classList.toggle("dark","dark"===ee.value)},de=e=>{ee.value=e,localStorage.setItem("theme",e),se()},oe=e=>{"auto"===ee.value&&document.documentElement.classList.toggle("dark",e.matches)},ne=()=>{if(ae.value=window.innerWidth<768,ae.value)$.value=!0;else{const e=localStorage.getItem("sidebarState");$.value="collapsed"===e}};s(()=>{if(ne(),window.addEventListener("resize",ne),!ae.value){const e=localStorage.getItem("sidebarState");$.value="collapsed"===e}const e=localStorage.getItem("theme");ee.value=e||"auto",se(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",oe)}),d(()=>{window.removeEventListener("resize",ne),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",oe)});const ue=()=>{$.value=!$.value,localStorage.setItem("sidebarState",$.value?"collapsed":"expanded")},ie=e=>{"logout"===e&&(localStorage.removeItem("token"),a.push("/login"))},ce=e=>{a.push(e)},re=e=>{ce(e),le.value=!1};return(e,a)=>{const l=T,t=W,s=D,d=G,u=J,i=q,Y=H,ee=R,se=U,oe=B,ne=c("router-view"),fe=F,me=x;return r(),o(me,{class:"app-container"},{default:n(()=>[f(i,{class:"header"},{default:n(()=>[m("div",K,[m("div",N,[f(l,{class:"toggle-sidebar hidden-xs-only",onClick:ue},{default:n(()=>[$.value?(r(),o(_(b),{key:0})):(r(),o(_(j),{key:1}))]),_:1}),f(l,{class:"logo-icon"},{default:n(()=>[f(_(S))]),_:1}),v(m("span",O,"ST-TG网盘管理",512),[[p,!$.value]])])]),m("div",Q,[f(l,{class:"toggle-mobile-sidebar hidden-sm-and-up",onClick:a[0]||(a[0]=e=>le.value=!0)},{default:n(()=>[f(_(j))]),_:1}),f(d,{onCommand:de,trigger:"click"},{dropdown:n(()=>[f(s,null,{default:n(()=>[f(t,{command:"light",icon:_(L)},{default:n(()=>a[2]||(a[2]=[g("亮色模式")])),_:1},8,["icon"]),f(t,{command:"dark",icon:_(y)},{default:n(()=>a[3]||(a[3]=[g("暗色模式")])),_:1},8,["icon"]),f(t,{command:"auto",icon:_(S)},{default:n(()=>a[4]||(a[4]=[g("跟随系统")])),_:1},8,["icon"])]),_:1})]),default:n(()=>[m("span",X,[f(l,{size:20},{default:n(()=>[(r(),o(h(te.value)))]),_:1})])]),_:1}),f(d,{onCommand:ie},{dropdown:n(()=>[f(s,null,{default:n(()=>[f(t,{command:"logout",icon:_(I)},{default:n(()=>a[5]||(a[5]=[g("退出登录")])),_:1},8,["icon"])]),_:1})]),default:n(()=>[f(u,{class:"user-avatar",size:32,src:"/favicon.ico"})]),_:1})])]),_:1}),f(me,{class:"main-container"},{default:n(()=>[ae.value?w("",!0):(r(),o(se,{key:0,width:$.value?"64px":"220px",class:"sidebar"},{default:n(()=>[f(ee,{"default-active":Z.value,class:"sidebar-menu",onSelect:ce,collapse:$.value,"collapse-transition":!1},{default:n(()=>[f(Y,{index:"/home"},{title:n(()=>a[6]||(a[6]=[g("首页")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(E))]),_:1})]),_:1}),f(Y,{index:"/fileList"},{title:n(()=>a[7]||(a[7]=[g("文件列表")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(z))]),_:1})]),_:1}),f(Y,{index:"/changePassword"},{title:n(()=>a[8]||(a[8]=[g("修改密码")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(C))]),_:1})]),_:1}),f(Y,{index:"/"},{title:n(()=>a[9]||(a[9]=[g("上传文件")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(V))]),_:1})]),_:1}),f(Y,{index:"/backup"},{title:n(()=>a[10]||(a[10]=[g("备份数据库")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(M))]),_:1})]),_:1}),f(Y,{index:"/bot-keep-alive"},{title:n(()=>a[11]||(a[11]=[g("机器人保活")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(A))]),_:1})]),_:1}),f(Y,{index:"/webdav-config"},{title:n(()=>a[12]||(a[12]=[g("WebDAV配置")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(P))]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"])),ae.value?(r(),o(oe,{key:1,modelValue:le.value,"onUpdate:modelValue":a[1]||(a[1]=e=>le.value=e),direction:"ltr","with-header":!1,size:"220px"},{default:n(()=>[f(ee,{"default-active":Z.value,class:"sidebar-menu",onSelect:re,collapse:!1,"collapse-transition":!1},{default:n(()=>[f(Y,{index:"/home"},{title:n(()=>a[13]||(a[13]=[g("首页")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(E))]),_:1})]),_:1}),f(Y,{index:"/fileList"},{title:n(()=>a[14]||(a[14]=[g("文件列表")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(z))]),_:1})]),_:1}),f(Y,{index:"/changePassword"},{title:n(()=>a[15]||(a[15]=[g("修改密码")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(C))]),_:1})]),_:1}),f(Y,{index:"/"},{title:n(()=>a[16]||(a[16]=[g("上传文件")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(V))]),_:1})]),_:1}),f(Y,{index:"/backup"},{title:n(()=>a[17]||(a[17]=[g("备份数据库")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(M))]),_:1})]),_:1}),f(Y,{index:"/bot-keep-alive"},{title:n(()=>a[18]||(a[18]=[g("机器人保活")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(A))]),_:1})]),_:1}),f(Y,{index:"/webdav-config"},{title:n(()=>a[19]||(a[19]=[g("WebDAV配置")])),default:n(()=>[f(l,null,{default:n(()=>[f(_(P))]),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1},8,["modelValue"])):w("",!0),f(fe,{class:"main-content"},{default:n(()=>[f(ne,null,{default:n(({Component:e})=>[f(k,{name:"fade",mode:"out-in"},{default:n(()=>[(r(),o(h(e)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-1d69cefc"]]);export{Y as default};
